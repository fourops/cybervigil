<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script type="module" src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js"></script>
    <script type="module" src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js"></script>
    <script type="module" src="https://www.gstatic.com/firebasejs/10.7.1/firebase-analytics.js"></script>
    <title>Complaints</title>

<style>
    body {
        font-family: 'Open Sans', sans-serif;
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        background-color: #f5f5f5;
    }

    /* Navigation Bar */
    ul.navbar {
        list-style-type: none;
        margin: 0;
        padding: 0;
        overflow: hidden;
        background-color: #3498db;
        display: flex;
        justify-content: space-evenly; /* Adjusted to evenly distribute navbar items */
        align-items: center; /* Vertically center items */
    }

    li.nav-item {
        flex-grow: 1;
    }

    li.nav-item a {
        display: block;
        color: white;
        text-align: center;
        padding: 15px;
        text-decoration: none;
        transition: background-color 0.3s ease;
    }

    li.nav-item a:hover {
        background-color: #2980b9;
    }

    /* Add this style for responsiveness */
    @media screen and (max-width: 600px) {
        li.nav-item {
            flex-grow: 0; /* Adjusted for small screens */
        }

        li.nav-item a {
            padding: 15px 10px; /* Adjusted padding for small screens */
        }
    }

    /* Container Styles */
    .container {
        max-width: 800px;
        margin: 20px auto;
        padding: 20px;
        background-color: #fff;
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    /* ... Your existing styles for cards, slideshow, etc. */

    /* Button Hover Effect */
    .button {
        background-color: #3498db;
        color: white;
        padding: 10px 16px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        transition: background-color 0.3s ease, transform 0.2s ease;
    }

    .button:hover {
        background-color: #2980b9;
        transform: scale(1.05);
    }

    fieldset {
        border: 2px solid #0c5e99; /* Dark blue border for fieldsets */
        margin: 8px;
        padding: 5px;
        overflow: hidden;
        font: bold 20px "Times New Roman", Georgia, sans-serif;
        position: relative;
        border-radius: 10px; /* Curved corners for fieldsets */
    }

    legend {
        margin: 2%;
        padding: 10px;
        font: 15px "Times New Roman", Georgia, sans-serif;
        list-style-type: none;
        color: #0c5e99; /* Dark blue legend text color */
    }

    label {
        margin-left: 15px;
        color: #0c5e99; /* Dark blue label text color */
    }

    input, textarea {
        width: 100%;
        padding: 8px;
        margin: 6px 0;
        box-sizing: border-box;
        border: 1px solid #0c5e99; /* Dark blue border for input elements */
        border-radius: 4px;
    }

    button {
        background-color: #0c5e99; /* Dark blue button background */
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 16px;
    }

    button:hover {
        background-color: #063766; /* Darker blue on hover */
    }
</style>
   


<!--          /* legend{
    margin: 2%;
    padding: 10px;
    font: 15px Times New Roman, Georgia;
    align-items: center;
    list-style-type: none;
    margin-left: 110px;
}  */
        </style> -->
</head>
<body>
  <header>
        <nav>
            <ul class="navbar">
                <li style="font-style: italic; color:darkblue;" class="nav-item"><a href="index.html">CyberStalking</a></li>
                <li class="nav-item"><a href="home.html">Predict cyber bullying</a></li>
                <li class="nav-item"><a href="complaint.html">Complaints</a></li>
                <li class="nav-item"><a href="contact_new.html">Contact</a></li>
                <li class="nav-item"><a href="about.html">About</a></li>
                <li class="nav-item"><a href="login.html">Login/Register</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section class="complaint-form">
            <h1>File a Complaint</h1>
            <form>
                <fieldset>
                    <legend>Your Details</legend>
                    <div class="form-group">
                        <label for="fname">First Name</label>
                        <input id="fname" name="fname" type="text" placeholder="First name" required autofocus>
                    </div>
                    <div class="form-group">
                        <label for="lname">Last Name</label>
                        <input id="lname" name="lname" type="text" placeholder="Last name" required autofocus>
                    </div>
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input id="email" name="email" type="email" placeholder="example@domain.com" required>
                    </div>
                    <div class="form-group">
                        <label for="phone">Phone</label>
                        <input id="phone" name="phone" type="tel" placeholder="Eg. +447500000000" required>
                    </div>
                </fieldset>

                <fieldset>
                    <legend>Complaint Details</legend>
                    <div class="form-group">
                        <label for="complaint">Complaint</label>
                        <textarea id="complaint" name="complaint" cols="15" rows="8" required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="platform">Platform of Incident</label>
                        <input id="platform" name="platform" type="text" required>
                    </div>
                    <div class="form-group">
                        <label for="country">Country</label>
                        <input id="country" name="country" type="text" required>
                    </div>
                    <div class="form-group">
                        <label for="datecomplaint">Date of Complaint</label>
                        <input type="date" id="datecomplaint" name="datecomplaint" required>
                    </div>
                </fieldset>

                <button type="submit" id="submit">Submit</button>
            </form>
        </section>
    </main>


<!-- ... other HTML code ... -->

 
<!-- <script src="firebaseDb.js"></script> -->
<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-analytics.js";

  // Your web app's Firebase configuration
  const firebaseConfig = {
    apiKey: "AIzaSyD_hcVTrWN7KInr6Jp09UsKzLKKQJ4TqFM",
    authDomain: "majorproj-auth.firebaseapp.com",
    databaseURL: "https://majorproj-auth-default-rtdb.firebaseio.com",
    projectId: "majorproj-auth",
    storageBucket: "majorproj-auth.appspot.com",
    messagingSenderId: "172536099915",
    appId: "1:172536099915:web:88aa18b564204e4b2f09ce",
    measurementId: "G-RHW23G3VN5"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);

  console.log(app);
// Get a reference to the Firebase Realtime Database service

import {getDatabase, ref, set, child} from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js"

const db= getDatabase();

    let fname= document.getElementById("fname");
    let lname = document.getElementById("lname");
    let email= document.getElementById("email");
    let phone= document.getElementById("phone");
    let complaint= document.getElementById("complaint");
    let platform= document.getElementById("platform");
    let country= document.getElementById("country");
    let datecomplaint= document.getElementById("datecomplaint");

    let submit=document.getElementById('submit');

    function AddData(e){
        e.preventDefault();
        if (
        fname.value.trim() === "" ||
        lname.value.trim() === "" ||
        email.value.trim() === "" ||
        phone.value.trim() === "" ||
        complaint.value.trim() === "" ||
        platform.value.trim() === "" ||
        country.value.trim() === "" ||
        datecomplaint.value.trim() === ""
    ) {
        alert("Please fill in all the required fields.");
        return; 

    console.log("fname.value:", fname.value);

        set (ref(db,'complaints/' + fname.value),{
        details: {fname: fname.value, lname: lname.value,  email: email.value, phone: phone.value},
        complaints :{complaint: complaint.value, platform: platform.value, country: country.value, dateofcomplaint:datecomplaint.value }
        
        }).then(()=>{
            alert("Data Added Sucessfully");
            console.log('Data Added Successfully:', data);
        }).catch((error)=>{
            const errorMessage = error.message;
            alert("Unsuccessful");
            console.error('Error Adding Data:', error.message); 
            console.log(error);
        })
    }

    submit.addEventListener('click', AddData);

    }
    console.log(app);
</script>
</body>


</html>